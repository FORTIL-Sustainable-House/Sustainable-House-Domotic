<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

		<link href="{{ url_for('static',filename='styles/auth.css') }}" rel="stylesheet">
		<link href="{{ url_for('static',filename='styles/dashboard.css') }}" rel="stylesheet">

		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

		{% if title %}
			<title>Active House - {{ title }}</title>
		{% else %}
			<title>Active House</title>
		{% endif %}
	</head>
	<body>
		<!-- NAVBAR -->
		<nav class="navbar navbar-dark">
			{% if request.path != url_for('auth.login') %}
				<button class="btn" type="button" data-toggle="collapse" data-target="#collapse" aria-expanded="false" aria-controls="collapse">
					<i class="fa fa-bars" aria-hidden="true"></i>
				</button>
			{% endif %}
			{% if request.path == url_for('auth.login') %}
				{% if title %}
					<a class="navbar-brand col-12 d-flex justify-content-center" href="#">{{ title }}</a>
				{% else %}
					<a class="navbar-brand col-12 d-flex justify-content-center" href="#">Welcome</a>
				{% endif %}
			{% else %}
				{% if title %}
					<a class="navbar-brand ml-3" href="#">{{ title }}</a>
				{% else %}
					<a class="navbar-brand ml-3" href="#">Welcome</a>
				{% endif %}
			{% endif %}
			<span class="navbar-text">
				{% if current_user.is_anonymous %}
					{% if request.path != url_for('auth.login') %}
						<a class="nav-link" href="{{ url_for('auth.login') }}">Sign in</a>
					{% endif %}
				{% else %}
					<a class="nav-link" href="{{ url_for('auth.logout') }}">Sign out</a>
				{% endif %}
			</span>
		</nav>

		<!-- BODY -->
		<div class="container-fluid">
			<div class="row body-container">
				{% if not current_user.is_anonymous %}
					<div class="col-12 col-lg-3 left-menu collapse" id="collapse">
						<div class="row">
							<div class="col-12 d-flex justify-content-center">
								<div class="dropdown">
									<button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										Environment
									</button>
									<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
										<a class="dropdown-item" href="#">Farm</a>
										<a class="dropdown-item" href="#">House</a>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="list-group list-group-flush w-100">
								<a href="{{ url_for('management.dashboard') }}" class="list-group-item list-group-item-action">Dashboard</a>
								<a href="#" class="list-group-item list-group-item-action">Features</a>
								<a href="#" class="list-group-item list-group-item-action">Sensors</a>
								<a href="#" class="list-group-item list-group-item-action">Rooms</a>
								<a href="#" class="list-group-item list-group-item-action">Historicals</a>
								<a href="#" class="list-group-item list-group-item-action">Profile</a>
								<a href="{{ url_for('features.temperature') }}" class="list-group-item list-group-item-action">Temperature</a>
							</div>
						</div>
					</div>
					<div class="col-12" id="content_logged">
						{% block content_logged %} {% endblock %}
					</div>
				{% else %}
					<div class="col-12" id="content_anonymous">
						{% block content_anonymous %} {% endblock %}
					</div>
				{% endif %}
			</div>
		</div>

		<script type="text/javascript">
			$('#collapse').on('hide.bs.collapse', function () {
				$('#content_logged').attr('class', 'col-12');
			});

			$('#collapse').on('show.bs.collapse', function () {
				$('#content_logged').attr('class', 'col-12 col-lg-9');
			});
		</script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	</body>
</html>